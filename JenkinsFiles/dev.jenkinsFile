pipeline {
   agent any

   environment {
        BRANCH_NAME = 'master'
        input_version = '1.0.0'
   }
   stages {
      stage('Pull code') {
         steps {
            git branch: 'master',credentialsId: 'e930b6ac-72f3-447d-8b8d-4351bcd738d1',url: 'git@github.com:moomdate/SUT-REG-API.git'
         }
      }
      stage('Build container image') {
         steps{
             sh 'whoami'
         }
      }
      stage('Build') {
         steps {
            sh 'docker build -t reg-api:${input_version} .'
         }
      }
   }
}
